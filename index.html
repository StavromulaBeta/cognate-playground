<html>
  <head>
    <meta charset="UTF-8">
    <title>Cognate Playground</title>
  </head>

  <body>
    <div style="text-align: center; margin-top: 5rem; margin-bottom: 1rem">
      <h3 style="font-weight: 650;">Try Cognate Online</h3>
    </div>
    <main>
      <style>
      .container p.section-name{
        color: var(--text-light);
        margin-top: 0;
        margin-bottom: .5rem;
      }

      #results pre p {
        margin-top: .5rem;
        margin-bottom: 0;
      }

      #results pre ol {
        margin-top: .5rem;
      }

      .container #results > div {
        margin-bottom: 2rem;
      }

      @media (min-width: 800px) {
        .container {
          height: 40rem;
          display: flex;
          flex-direction: row;
          justify-content: space-between;
          gap: .5rem;
        }

        .container #results, .container #input-container {
          margin: 0;
          width: 50%;
          height: 100%;
        }

        .container #results {
          display: flex;
          flex-direction: column;
          overflow-x: auto;
        }

        .cm-editor {
          height: 100%;
        }
      }

      .container #input-container, .container #results {
        background-color: var(--accent-bg);
        border: 1px solid var(--border);
        border-radius: var(--standard-border-radius);
      }

      @media (max-width: 799px) {
        .cm-editor {
          min-height: 40vh;
          /* There needs to be space outside the editor for scolling the rest of the page */
          max-height: 70vh;
        }

        .container #results {
          margin-top: .5rem;
        }

        #results pre {
          max-height: 50vh;
          overflow-x: auto;
        }
      }

      .container #results {
        font-family: var(--mono-font);
        padding: 1rem 1.5rem;
      }

      #results pre {
        border: none;
        margin: 0;
        padding: 0;
        width: 100%;
        min-height: 3rem;
      }
      </style>
      <div class="notice hidden" id="external-error-box">
        <style>
        #external-error p {
          margin: 0;
          margin-top: 1rem;
        }
        </style>
        <h6 style="margin-bottom: 0; margin-top: -.5rem">Warning</h6>
        <div id="external-error" style="line-height: 1; margin-bottom: 1rem"></div>
        <a id="notice-dismiss" href="#">Dismiss</a>
      </div>
      <select id="select-example" name="example" style="height: 2.5rem; min-width: 10rem; margin: 0; margin-bottom: .5rem;">
        <option value="custom" selected>Custom</option>
        <optgroup label="Types">
          <option value="numbers">Numbers</option>
          <option value="variables">Variables</option>
          <option value="strings">Strings</option>
          <option value="blocks">Blocks</option>
          <option value="functions">Functions</option>
          <option value="lists">Lists</option>
        </optgroup>
        <optgroup label="Examples">
          <option value="hanoi">Hanoi</option>
          <option value="fizzbuzz">Fizzbuzz</option>
          <option value="primes">Primes</option>
          <option value="fib">Fibonacci</option>
        </optgroup>
      </select>
      <div class="container">
        <div id="input-container">
          <div id="input"></div>
        </div>
        <div id="results">
          <div id="errors-container">
            <p class="section-name">Errors:</p>
            <pre style="text-wrap: wrap;" id="output-error"></pre>
          </div>
          <div id="output-container">
            <p class="section-name">Output:</p>
            <pre id="output"></pre>
          </div>
          <div id="debug-container">
            <p class="section-name">Stack:</p>
            <pre style="text-wrap: wrap;" id="output-debug"></pre>
          </div>
        </div>
      </div>
    </main>
    <script src="tree-sitter.js"></script>
    <script type="module" src="main.js"></script>
    <footer>
      <nav>
        <a href="https://github.com/hedyhli/cognate-playground">Source</a>
        <a href="https://github.com/cognate-lang/cognate">Cognate</a>
        <a href="https://cognate-lang.github.io/learn.html">Tutorial</a>
      </nav>
      <p>This playground uses a JavaScript implementation of Cognate. When in doubt, always verify with the official Cognate compiler.</p>
    </footer>
  </body>
</html>
